<div class="container-fluid">
  <div class="d-sm-flex justify-content-between align-items-center mb-4">
    <h3 class="text-dark mb-0">داشبورد</h3>
    <a href="#" class="btn btn-primary btn-sm d-none d-sm-inline-block">
      <i class="bi bi-download me-1"></i> دریافت گزارش
    </a>
  </div>

  <!-- Stats Cards -->
  <div class="row">
    <div class="col-md-6 col-xl-3 mb-4">
      <div class="card shadow border-start-primary py-2">
        <div class="card-body">
          <div class="row align-items-center no-gutters">
            <div class="col me-2">
              <div class="text-uppercase text-primary fw-bold text-xs mb-1">
                <span>مجموع کاربران</span>
              </div>
              <div class="text-dark fw-bold h5 mb-0">
                <span>{{totalUsersCount}}</span>
              </div>
            </div>
            <div class="col-auto">
              <i class="bi bi-people fs-1 text-gray-300"></i>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="col-md-6 col-xl-3 mb-4">
      <div class="card shadow border-start-success py-2">
        <div class="card-body">
          <div class="row align-items-center no-gutters">
            <div class="col me-2">
              <div class="text-uppercase text-success fw-bold text-xs mb-1">
                <span>مجموع فاکتورهای تاییدشده</span>
              </div>
              <div class="text-dark fw-bold h5 mb-0">
                <span>{{numberToLocaleString totalFactorsPrice}}</span>
              </div>
            </div>
            <div class="col-auto">
              <i class="bi bi-currency-dollar fs-1 text-gray-300"></i>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="col-md-6 col-xl-3 mb-4">
      <div class="card shadow border-start-info py-2">
        <div class="card-body">
          <div class="row align-items-center no-gutters">
            <div class="col me-2">
              <div class="text-uppercase text-info fw-bold text-xs mb-1">
                <span>تعداد فاکتورهای تایید نشده</span>
              </div>
              <div class="row g-0 align-items-center">
                <div class="col-auto">
                  <div class="text-dark fw-bold h5 mb-0 me-3">
                    <span>{{totalPendingFactorsCount}}</span>
                  </div>
                </div>
                <div class="col">
                  <div class="progress progress-sm">
                    <div class="progress-bar bg-info" aria-valuenow="50" aria-valuemin="0" aria-valuemax="100"
                      style="width: {{percentage}}%;">
                      <span class="visually-hidden">50%</span>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <div class="col-auto">
              <i class="bi bi-clipboard-data fs-1 text-gray-300"></i>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="col-md-6 col-xl-3 mb-4">
      <div class="card shadow border-start-warning py-2">
        <div class="card-body">
          <div class="row align-items-center no-gutters">
            <div class="col me-2">
              <div class="text-uppercase text-warning fw-bold text-xs mb-1">
                <span>تعداد فاکتورهای لغو شده</span>
              </div>
              <div class="text-dark fw-bold h5 mb-0">
                <span>{{totalCanceledFactorsCount}}</span>
              </div>
            </div>
            <div class="col-auto">
              <i class="bi bi-bell fs-1 text-gray-300"></i>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Charts Row -->
  <div class="row">
    <div class="col-lg-8 mb-4">
      <div class="card shadow mb-4">
        <div class="card-header py-3 d-flex flex-row align-items-center justify-content-between">
          <h6 class="m-0 fw-bold text-primary">Revenue Overview</h6>
          <div class="dropdown no-arrow">
            <a class="dropdown-toggle" href="#" role="button" id="dropdownMenuLink" data-bs-toggle="dropdown"
              aria-expanded="false">
              <i class="bi bi-three-dots-vertical text-gray-400"></i>
            </a>
            <ul class="dropdown-menu dropdown-menu-end shadow" aria-labelledby="dropdownMenuLink">
              <li><a class="dropdown-item" href="#">Action</a></li>
              <li><a class="dropdown-item" href="#">Another action</a></li>
              <li><a class="dropdown-item" href="#">Something else here</a></li>
            </ul>
          </div>
        </div>
        <div class="card-body">
          <div class="chart-area">
            <canvas id="revenueChart"></canvas>
          </div>
        </div>
      </div>
    </div>
    <div class="col-lg-4 mb-4">
      <div class="card shadow mb-4">
        <div class="card-header py-3 d-flex flex-row align-items-center justify-content-between">
          <h6 class="m-0 fw-bold text-primary">Traffic Sources</h6>
          <div class="dropdown no-arrow">
            <a class="dropdown-toggle" href="#" role="button" id="dropdownMenuLink" data-bs-toggle="dropdown"
              aria-expanded="false">
              <i class="bi bi-three-dots-vertical text-gray-400"></i>
            </a>
            <ul class="dropdown-menu dropdown-menu-end shadow" aria-labelledby="dropdownMenuLink">
              <li><a class="dropdown-item" href="#">Action</a></li>
              <li><a class="dropdown-item" href="#">Another action</a></li>
              <li><a class="dropdown-item" href="#">Something else here</a></li>
            </ul>
          </div>
        </div>
        <div class="card-body">
          <div class="chart-pie pt-4 pb-2">
            <canvas id="trafficChart"></canvas>
          </div>
          <div class="mt-4 text-center small">
            <span class="me-2"><i class="bi bi-circle-fill text-primary"></i> Direct</span>
            <span class="me-2"><i class="bi bi-circle-fill text-success"></i> Social</span>
            <span class="me-2"><i class="bi bi-circle-fill text-info"></i> Referral</span>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Recent Orders Table -->
  <div class="card shadow mb-4">
    <div class="card-header py-3">
      <h6 class="m-0 fw-bold text-primary">Recent Orders</h6>
    </div>
    <div class="card-body">
      <div class="table-responsive">
        <table class="table table-bordered" id="dataTable" width="100%" cellspacing="0">
          <thead>
            <tr>
              <th>Order ID</th>
              <th>Customer</th>
              <th>Date</th>
              <th>Amount</th>
              <th>Status</th>
              <th>Action</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>ORD-12345</td>
              <td>John Doe</td>
              <td>2023-05-15</td>
              <td>$125.00</td>
              <td><span class="badge bg-success">Completed</span></td>
              <td>
                <button class="btn btn-sm btn-primary"><i class="bi bi-eye"></i></button>
                <button class="btn btn-sm btn-warning"><i class="bi bi-pencil"></i></button>
              </td>
            </tr>
            <tr>
              <td>ORD-12344</td>
              <td>Jane Smith</td>
              <td>2023-05-14</td>
              <td>$89.50</td>
              <td><span class="badge bg-warning">Processing</span></td>
              <td>
                <button class="btn btn-sm btn-primary"><i class="bi bi-eye"></i></button>
                <button class="btn btn-sm btn-warning"><i class="bi bi-pencil"></i></button>
              </td>
            </tr>
            <tr>
              <td>ORD-12343</td>
              <td>Robert Johnson</td>
              <td>2023-05-13</td>
              <td>$245.75</td>
              <td><span class="badge bg-danger">Cancelled</span></td>
              <td>
                <button class="btn btn-sm btn-primary"><i class="bi bi-eye"></i></button>
                <button class="btn btn-sm btn-warning"><i class="bi bi-pencil"></i></button>
              </td>
            </tr>
            <tr>
              <td>ORD-12342</td>
              <td>Emily Davis</td>
              <td>2023-05-12</td>
              <td>$67.30</td>
              <td><span class="badge bg-success">Completed</span></td>
              <td>
                <button class="btn btn-sm btn-primary"><i class="bi bi-eye"></i></button>
                <button class="btn btn-sm btn-warning"><i class="bi bi-pencil"></i></button>
              </td>
            </tr>
            <tr>
              <td>ORD-12341</td>
              <td>Michael Wilson</td>
              <td>2023-05-11</td>
              <td>$189.00</td>
              <td><span class="badge bg-info">Shipped</span></td>
              <td>
                <button class="btn btn-sm btn-primary"><i class="bi bi-eye"></i></button>
                <button class="btn btn-sm btn-warning"><i class="bi bi-pencil"></i></button>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>
</div>



<script>
  document.addEventListener('DOMContentLoaded', function () {
    // Revenue Chart
    const revenueCtx = document.getElementById('revenueChart').getContext('2d');
    const revenueChart = new Chart(revenueCtx, {
      type: 'line',
      data: {
        labels: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'],
        datasets: [{
          label: 'Revenue',
          data: [5000, 8000, 7000, 9000, 12000, 15000, 14000, 16000, 18000, 20000, 22000, 25000],
          backgroundColor: 'rgba(78, 115, 223, 0.05)',
          borderColor: 'rgba(78, 115, 223, 1)',
          pointBackgroundColor: 'rgba(78, 115, 223, 1)',
          pointBorderColor: '#fff',
          pointHoverBackgroundColor: '#fff',
          pointHoverBorderColor: 'rgba(78, 115, 223, 1)',
          pointRadius: 3,
          pointHoverRadius: 3,
          borderWidth: 2,
          fill: true
        }]
      },
      options: {
        maintainAspectRatio: false,
        plugins: {
          legend: {
            display: false
          }
        },
        scales: {
          y: {
            beginAtZero: true,
            ticks: {
              callback: function (value) {
                return '$' + value.toLocaleString();
              }
            }
          }
        }
      }
    });

    // Traffic Chart
    const trafficCtx = document.getElementById('trafficChart').getContext('2d');
    const trafficChart = new Chart(trafficCtx, {
      type: 'doughnut',
      data: {
        labels: ['Direct', 'Social', 'Referral'],
        datasets: [{
          data: [55, 30, 15],
          backgroundColor: ['#4e73df', '#1cc88a', '#36b9cc'],
          hoverBackgroundColor: ['#2e59d9', '#17a673', '#2c9faf'],
          hoverBorderColor: 'rgba(234, 236, 244, 1)',
        }]
      },
      options: {
        maintainAspectRatio: false,
        plugins: {
          legend: {
            display: false
          }
        },
        cutout: '80%',
      }
    });


  });
</script>